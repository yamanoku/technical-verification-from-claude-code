<template>
  <div class="container">
    <h1>GraphQL ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ¯”è¼ƒçµæœ</h1>
    
    <div class="nav">
      <NuxtLink to="/">æ¦‚è¦</NuxtLink>
      <NuxtLink to="/apollo-client">Apollo Client</NuxtLink>
      <NuxtLink to="/urql">URQL</NuxtLink>
      <NuxtLink to="/nuxt-apollo">Nuxt Apollo</NuxtLink>
      <NuxtLink to="/villus">Villus</NuxtLink>
      <NuxtLink to="/graphql-request">GraphQL Request</NuxtLink>
      <NuxtLink to="/comparison" class="active">æ¯”è¼ƒçµæœ</NuxtLink>
    </div>

    <div class="client-section">
      <h2>ç·åˆè©•ä¾¡</h2>
      <div class="metrics">
        <div class="metric-card">
          <h3>ğŸ† æ¨å¥¨ç¬¬1ä½</h3>
          <div class="metric-value">@urql/vue</div>
          <p>è»½é‡æ€§ã¨Vue 3å¯¾å¿œã®ãƒãƒ©ãƒ³ã‚¹</p>
        </div>
        <div class="metric-card">
          <h3>ğŸ¥ˆ æ¨å¥¨ç¬¬2ä½</h3>
          <div class="metric-value">graphql-request</div>
          <p>ã‚·ãƒ³ãƒ—ãƒ«ã•ã¨è»½é‡æ€§</p>
        </div>
        <div class="metric-card">
          <h3>ğŸ¥‰ æ¨å¥¨ç¬¬3ä½</h3>
          <div class="metric-value">@apollo/client</div>
          <p>æ©Ÿèƒ½ã®è±Šå¯Œã•ã¨å®‰å®šæ€§</p>
        </div>
      </div>
    </div>

    <div class="client-section">
      <h2>è©³ç´°æ¯”è¼ƒè¡¨</h2>
      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>é …ç›®</th>
              <th>Apollo Client</th>
              <th>URQL</th>
              <th>Nuxt Apollo</th>
              <th>Villus</th>
              <th>GraphQL Request</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º</strong></td>
              <td>âŒ å¤§ãã„ (~32KB)</td>
              <td>âœ… å°ã•ã„ (~7KB)</td>
              <td>âš ï¸ ä¸­ç¨‹åº¦ (~25KB)</td>
              <td>âœ… å°ã•ã„ (~5KB)</td>
              <td>âœ… æœ€å° (~3KB)</td>
            </tr>
            <tr>
              <td><strong>SSRå¯¾å¿œ</strong></td>
              <td>âœ… å®Œå…¨å¯¾å¿œ</td>
              <td>âœ… å®Œå…¨å¯¾å¿œ</td>
              <td>âœ… å®Œå…¨å¯¾å¿œ</td>
              <td>âœ… å®Œå…¨å¯¾å¿œ</td>
              <td>âš ï¸ æ‰‹å‹•å¯¾å¿œ</td>
            </tr>
            <tr>
              <td><strong>ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½</strong></td>
              <td>âœ… é«˜æ©Ÿèƒ½</td>
              <td>âœ… åŠ¹ç‡çš„</td>
              <td>âœ… é«˜æ©Ÿèƒ½</td>
              <td>âœ… åŠ¹ç‡çš„</td>
              <td>âŒ ãªã—</td>
            </tr>
            <tr>
              <td><strong>TypeScriptå¯¾å¿œ</strong></td>
              <td>âœ… å®Œå…¨å¯¾å¿œ</td>
              <td>âœ… å®Œå…¨å¯¾å¿œ</td>
              <td>âœ… å®Œå…¨å¯¾å¿œ</td>
              <td>âœ… å®Œå…¨å¯¾å¿œ</td>
              <td>âœ… å®Œå…¨å¯¾å¿œ</td>
            </tr>
            <tr>
              <td><strong>å­¦ç¿’ã‚³ã‚¹ãƒˆ</strong></td>
              <td>âŒ é«˜ã„</td>
              <td>âœ… ä½ã„</td>
              <td>âš ï¸ ä¸­ç¨‹åº¦</td>
              <td>âœ… ä½ã„</td>
              <td>âœ… æœ€ä½</td>
            </tr>
            <tr>
              <td><strong>Composition API</strong></td>
              <td>âš ï¸ é™å®šçš„</td>
              <td>âœ… æœ€é©åŒ–</td>
              <td>âœ… å¯¾å¿œ</td>
              <td>âœ… æœ€é©åŒ–</td>
              <td>âœ… å¯¾å¿œ</td>
            </tr>
            <tr>
              <td><strong>Subscription</strong></td>
              <td>âœ… å®Œå…¨å¯¾å¿œ</td>
              <td>âœ… å¯¾å¿œ</td>
              <td>âœ… å®Œå…¨å¯¾å¿œ</td>
              <td>âœ… å¯¾å¿œ</td>
              <td>âŒ ãªã—</td>
            </tr>
            <tr>
              <td><strong>ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ </strong></td>
              <td>âœ… è±Šå¯Œ</td>
              <td>âš ï¸ ä¸­ç¨‹åº¦</td>
              <td>âœ… è±Šå¯Œ</td>
              <td>âš ï¸ é™å®šçš„</td>
              <td>âš ï¸ é™å®šçš„</td>
            </tr>
            <tr>
              <td><strong>DevTools</strong></td>
              <td>âœ… å„ªç§€</td>
              <td>âœ… å¯¾å¿œ</td>
              <td>âœ… å„ªç§€</td>
              <td>âš ï¸ é™å®šçš„</td>
              <td>âŒ ãªã—</td>
            </tr>
            <tr>
              <td><strong>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</strong></td>
              <td>âœ… è‰¯å¥½</td>
              <td>âœ… å„ªç§€</td>
              <td>âœ… è‰¯å¥½</td>
              <td>âœ… å„ªç§€</td>
              <td>âœ… æœ€é«˜</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="client-section">
      <h2>ã‚·ãƒŠãƒªã‚ªåˆ¥æ¨å¥¨</h2>
      
      <div class="scenario-cards">
        <div class="scenario-card">
          <h3>ğŸš€ å°ã€œä¸­è¦æ¨¡ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³</h3>
          <div class="recommendation">
            <strong>æ¨å¥¨: @urql/vue</strong>
          </div>
          <ul>
            <li>è»½é‡ã§é«˜æ€§èƒ½</li>
            <li>Composition APIã«æœ€é©åŒ–</li>
            <li>SSRå¯¾å¿œãŒç°¡å˜</li>
            <li>é©åº¦ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½</li>
          </ul>
        </div>
        
        <div class="scenario-card">
          <h3>ğŸ¢ å¤§è¦æ¨¡ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³</h3>
          <div class="recommendation">
            <strong>æ¨å¥¨: @apollo/client</strong>
          </div>
          <ul>
            <li>å¼·åŠ›ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ </li>
            <li>è±Šå¯Œãªæ©Ÿèƒ½ã¨ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ </li>
            <li>å„ªã‚ŒãŸDevTools</li>
            <li>ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºå¯¾å¿œ</li>
          </ul>
        </div>
        
        <div class="scenario-card">
          <h3>âš¡ è»½é‡ãƒ»é«˜é€Ÿé‡è¦–</h3>
          <div class="recommendation">
            <strong>æ¨å¥¨: graphql-request</strong>
          </div>
          <ul>
            <li>æœ€å°ã®ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º</li>
            <li>æœ€é«˜ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</li>
            <li>ã‚·ãƒ³ãƒ—ãƒ«ãªAPI</li>
            <li>å­¦ç¿’ã‚³ã‚¹ãƒˆãŒæœ€ä½</li>
          </ul>
        </div>
        
        <div class="scenario-card">
          <h3>ğŸ¯ Nuxtç‰¹åŒ–</h3>
          <div class="recommendation">
            <strong>æ¨å¥¨: @nuxtjs/apollo</strong>
          </div>
          <ul>
            <li>Nuxtã¨ã®å®Œå…¨çµ±åˆ</li>
            <li>è¨­å®šãŒç°¡å˜</li>
            <li>SSRå¯¾å¿œãŒè‡ªå‹•</li>
            <li>ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å½¢å¼</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="client-section">
      <h2>æŠ€è¡“çš„æ¨å¥¨äº‹é …</h2>
      
      <div class="recommendation-section">
        <h3>ğŸ¯ BFFç’°å¢ƒã§ã®æ¨å¥¨æ§‹æˆ</h3>
        <div class="code-block">
          <pre><code>// æ¨å¥¨æ§‹æˆ - @urql/vue
// nuxt.config.ts
export default defineNuxtConfig({
  ssr: true,
  runtimeConfig: {
    public: {
      graphqlEndpoint: process.env.GRAPHQL_ENDPOINT || 'https://bff.example.com/graphql'
    }
  }
})

// plugins/urql.client.ts
import { createClient, provideClient } from '@urql/vue'

export default defineNuxtPlugin(() => {
  const client = createClient({
    url: useRuntimeConfig().public.graphqlEndpoint,
    suspense: true,
    requestPolicy: 'cache-first'
  })
  
  provideClient(client)
  return { provide: { urqlClient: client } }
})</code></pre>
        </div>
      </div>

      <div class="recommendation-section">
        <h3>ğŸ”§ è¨­è¨ˆä¸Šã®æ¨å¥¨äº‹é …</h3>
        <ul>
          <li><strong>ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</strong>: çµ±ä¸€ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥ã‚’å®Ÿè£…</li>
          <li><strong>ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥</strong>: BFFã®ç‰¹æ€§ã«å¿œã˜ãŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒãƒªã‚·ãƒ¼ã‚’è¨­å®š</li>
          <li><strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</strong>: èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã®é©åˆ‡ãªç®¡ç†</li>
          <li><strong>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</strong>: å¿…è¦ã«å¿œã˜ã¦ã‚¯ã‚¨ãƒªã®æœ€é©åŒ–ã‚’å®Ÿè£…</li>
          <li><strong>å‹å®‰å…¨æ€§</strong>: GraphQL Code Generatorã®æ´»ç”¨ã‚’æ¤œè¨</li>
        </ul>
      </div>

      <div class="recommendation-section">
        <h3>ğŸš¦ å®Ÿè£…æ™‚ã®æ³¨æ„ç‚¹</h3>
        <div class="pros-cons">
          <div class="pros">
            <h4>ã‚„ã‚‹ã¹ãã“ã¨</h4>
            <ul>
              <li>SSRæ™‚ã®ã‚¯ã‚¨ãƒªå®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’é©åˆ‡ã«è¨­å®š</li>
              <li>ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ã®å®Ÿè£…</li>
              <li>é©åˆ‡ãªãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®ç®¡ç†</li>
              <li>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®å®Ÿè£…</li>
            </ul>
          </div>
          <div class="cons">
            <h4>é¿ã‘ã‚‹ã¹ãã“ã¨</h4>
            <ul>
              <li>éåº¦ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ˆã‚‹ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯</li>
              <li>æœªãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼</li>
              <li>SSRæ™‚ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå›ºæœ‰APIã®ä½¿ç”¨</li>
              <li>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒˆãƒ¼ã‚¯ãƒ³ã®ä¸é©åˆ‡ãªç®¡ç†</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="client-section">
      <h2>æœ€çµ‚çµè«–</h2>
      <div class="final-recommendation">
        <h3>ğŸ¯ Nuxt 3 + BFFç’°å¢ƒã§ã®æœ€é©è§£</h3>
        <p>
          <strong>@urql/vue</strong>ã‚’ç¬¬ä¸€æ¨å¥¨ã¨ã—ã¾ã™ã€‚ç†ç”±ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š
        </p>
        <ul>
          <li>Nuxt 3ã®SSRç’°å¢ƒã¨ã®ç›¸æ€§ãŒæœ€ã‚‚è‰¯ã„</li>
          <li>Vue 3 Composition APIã«æœ€é©åŒ–ã•ã‚Œã¦ã„ã‚‹</li>
          <li>è»½é‡ã§ã‚ã‚ŠãªãŒã‚‰å¿…è¦ååˆ†ãªæ©Ÿèƒ½ã‚’æä¾›</li>
          <li>script setupå†…ã§ã®ä½¿ç”¨ãŒç›´æ„Ÿçš„</li>
          <li>BFFç’°å¢ƒã§ã®ä½¿ç”¨ã«é©ã—ãŸã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥</li>
        </ul>
        
        <p>
          ãŸã ã—ã€æ—¢å­˜ã®Apolloã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã‚’æ´»ç”¨ã™ã‚‹å ´åˆã‚„ã€
          å¤§è¦æ¨¡ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å ´åˆã¯<strong>@apollo/client</strong>ã‚‚æ¤œè¨ä¾¡å€¤ãŒã‚ã‚Šã¾ã™ã€‚
        </p>
      </div>
    </div>
  </div>
</template>

<script setup>
// ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®è¨­å®š
useHead({
  title: 'GraphQL ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ¯”è¼ƒçµæœ - Nuxt 3 GraphQL',
  meta: [
    { name: 'description', content: 'Nuxt 3 SSRç’°å¢ƒã§ã®GraphQLã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ¯”è¼ƒçµæœã¨æ¨å¥¨äº‹é …' }
  ]
})
</script>

<style scoped>
.nav a.active {
  background-color: #007acc;
  color: white;
}

.comparison-table {
  overflow-x: auto;
  margin: 20px 0;
}

.comparison-table table {
  width: 100%;
  border-collapse: collapse;
  background: white;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.comparison-table th,
.comparison-table td {
  padding: 12px;
  text-align: left;
  border-bottom: 1px solid #eee;
}

.comparison-table th {
  background-color: #f8f9fa;
  font-weight: 600;
  color: #333;
}

.comparison-table tr:hover {
  background-color: #f8f9fa;
}

.scenario-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  margin: 20px 0;
}

.scenario-card {
  background: white;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  border-left: 4px solid #007acc;
}

.scenario-card h3 {
  margin: 0 0 15px 0;
  color: #333;
}

.recommendation {
  background-color: #e8f5e8;
  padding: 10px;
  border-radius: 4px;
  margin: 10px 0;
  font-weight: 600;
  color: #2e7d32;
}

.recommendation-section {
  margin: 30px 0;
}

.recommendation-section h3 {
  color: #333;
  border-bottom: 2px solid #007acc;
  padding-bottom: 10px;
}

.final-recommendation {
  background: linear-gradient(135deg, #e8f5e8 0%, #f0f8ff 100%);
  padding: 25px;
  border-radius: 8px;
  border-left: 4px solid #4caf50;
  margin: 20px 0;
}

.final-recommendation h3 {
  color: #2e7d32;
  margin-top: 0;
}

.final-recommendation p {
  margin: 15px 0;
  line-height: 1.6;
}

.final-recommendation ul {
  margin: 15px 0;
  padding-left: 20px;
}

.final-recommendation li {
  margin: 8px 0;
  line-height: 1.5;
}
</style>